## é‡ç‚¹å†…å®¹
1ï¼‰å®Œæˆé¡¹ç›®çš„åˆå§‹åŒ–

2ï¼‰é™æ€æ–‡ä»¶ç”Ÿæˆ

3ï¼‰åŠ¨æ€æ–‡ä»¶ä»£ç ç”Ÿæˆ

4ï¼‰FreeMarkeræ¨¡æ¿å¼•æ“å…¥é—¨åŠå®æˆ˜

5ï¼‰åŠ¨é™ç»“åˆ - ACMç¤ºä¾‹é¡¹ç›®æ¨¡æ¿ä»£ç ç”Ÿæˆ

## ä¸€ã€é¡¹ç›®åˆå§‹åŒ–
### 1ã€åˆå§‹åŒ–æ ¹ç›®å½•
åˆ›å»ºç©ºé¡¹ç›®

### 2ã€å¿½ç•¥æ— ç”¨æäº¤
```plain
git rm -rf --cached .	#å¿½ç•¥æ— ç”¨æäº¤
sudo dscacheutil -flushcache #æ¸…é™¤dnsç¼“å­˜
sudo killall -HUP mDNSResponder #é‡å¯dnsæœåŠ¡
scutil --dns #æŸ¥çœ‹dnsæœåŠ¡å™¨åœ°å€
```

### 3ã€åˆ›å»ºDemoç¤ºä¾‹ä»£ç å·¥ç¨‹
### 4ã€åˆ›å»ºæœ¬åœ°ä»£ç ç”Ÿæˆå™¨é¡¹ç›®
## äºŒã€å®ç°æµç¨‹
### 1ã€éœ€æ±‚æ‹†è§£
æœ¬åœ°ä»£ç ç”Ÿæˆå™¨ + åŸºäºå‘½ä»¤è¡Œçš„è„šæ‰‹æ¶

### 2ã€å®ç°æ­¥éª¤
1ï¼‰ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œé€šè¿‡Mainæ–¹æ³•è¿è¡Œ

2ï¼‰ç”ŸæˆåŠ¨æ€æ–‡ä»¶ï¼Œé€šè¿‡Mainæ–¹æ³•è¿è¡Œ

3ï¼‰åŒæ—¶ç”Ÿæˆé™æ€å’ŒåŠ¨æ€æ–‡ä»¶ï¼Œé€šè¿‡Mainæ–¹æ³•è¿è¡Œï¼Œå¾—åˆ°å®Œæ•´ä»£ç ç”Ÿæˆ

4ï¼‰å¼€å‘å‘½ä»¤è¡Œå·¥å…·ï¼Œæ¥å—ç”¨æˆ·çš„è¾“å…¥å¹¶ç”Ÿæˆå®Œæ•´ä»£ç 

5ï¼‰å°†å·¥å…·å°è£…ä¸ºjaråŒ…å’Œè„šæœ¬ï¼Œä¾›ç”¨æˆ·è°ƒç”¨

## ä¸‰ã€é™æ€ä»£ç ç”Ÿæˆ
è¾“å…¥ä¸€ä¸ªé¡¹ç›®çš„ç›®å½•ï¼Œåœ¨å¦ä¸€ä¸ªä½ç½®ç”Ÿæˆä¸€æ¨¡ä¸€æ ·çš„é¡¹ç›®æ–‡ä»¶ã€‚

å¦‚ä½•å®ç°å‘¢ï¼Ÿ

æœ¬è´¨å°±æ˜¯å¤åˆ¶æ–‡ä»¶å˜›ï¼ä¸¤ç§æ–¹æ³•

### 1ã€ç°æˆçš„å·¥å…·åº“å¤åˆ¶ç›®å½•
[HutoolğŸ¬ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œä¸”æ˜“ç”¨çš„Javaå·¥å…·åº“ï¼Œæ¶µç›–äº†å­—ç¬¦ä¸²ã€æ•°å­—ã€é›†åˆã€ç¼–ç ã€æ—¥æœŸã€æ–‡ä»¶ã€IOã€åŠ å¯†ã€æ•°æ®åº“JDBCã€JSONã€HTTPå®¢æˆ·ç«¯ç­‰åŠŸèƒ½ã€‚](https://www.hutool.cn/)

ç°åœ¨æˆ‘ä»¬æƒ³å¤åˆ¶ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Hutoolçš„copyæ–¹æ³•ï¼Œæ–¹æ³•ä¿¡æ¯å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä¸€å®šè¦æ ¼å¤–æ³¨æ„è¾“å…¥å‚æ•°çš„å«ä¹‰ï¼š

![](https://cdn.nlark.com/yuque/0/2024/png/38856890/1733298935130-6a250447-853e-4c41-9eec-793af6f7c8ce.png)

```java
/**
 * æ‹·è´æ–‡ä»¶ï¼ˆHutool å®ç°ï¼Œä¼šå°†è¾“å…¥ç›®å½•å®Œæ•´æ‹·è´åˆ°è¾“å‡ºç›®å½•ä¸‹ï¼‰
 * @param inputPath
 * @param outputPath
 */
public static void copyFilesByHutool(String inputPath, String outputPath) {
    FileUtil.copy(inputPath, outputPath, false);
}
```

```java
public static void main(String[] args) {
    // è·å–æ•´ä¸ªé¡¹ç›®çš„æ ¹è·¯å¾„
    String projectPath = System.getProperty("user.dir");
    File projectFile = new File(projectPath);
    // è¾“å…¥è·¯å¾„ï¼šACM ç¤ºä¾‹ä»£ç æ¨¡æ¿ç›®å½•
    String inputPath = new File(projectFile, "yuzi-generator-demo-projects/acm-template").getAbsolutePath();
    // è¾“å‡ºè·¯å¾„ï¼šç›´æ¥è¾“å‡ºåˆ°é¡¹ç›®çš„æ ¹ç›®å½•
    String outputPath = projectPath;
    copyFilesByHutool(inputPath, outputPath);
}
```



### 2ã€é€’å½’éå†
æ‰‹åŠ¨ç¼–å†™é€’å½’ç®—æ³•ä¾æ¬¡éå†æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶

File.copyæ–¹æ³•çš„æºç 

![](https://cdn.nlark.com/yuque/0/2024/png/38856890/1733300009722-bed77f50-bacf-4bb1-b541-eaa0175b9396.png)

#### æ–‡ä»¶æ“ä½œAPI
1ï¼‰æ‹·è´æ–‡ä»¶

```java
Files.copy(src.toPath(), dest.toPath(), optionList.toArray(new CopyOption[0]));
```

2ï¼‰åˆ›å»ºå¤šçº§æ–‡ä»¶å¤¹

```java
File dest;
dest.mkdirs()
```

3ï¼‰åˆ¤æ–­æ˜¯å¦ä¸ºç›®å½•

```java
File dest;
dest.isDirectory()
```

4ï¼‰æ–‡ä»¶æ˜¯å¦å­˜åœ¨

```java
File dest;
dest.exists()
```

å®Œæ•´ä»£ç 

```java
public class StaticGenerator {

    public static void main(String[] args) {
        String projectPath = System.getProperty("user.dir");
        String inputPath = new File(projectPath, "xujie-generator-demo-projects/acm-template").getAbsolutePath();
        String outputPath = projectPath;
        copyFilesByRecursive(inputPath,outputPath);
    }

    /**
     * ç°æˆçš„å·¥å…·åº“å¤åˆ¶ç›®å½•
     * @param inputPath
     * @param outputPath
     */
    public static void copyFilesByHutool(String inputPath,String outputPath) {
        FileUtil.copy(inputPath,outputPath,false);
    }

    /**
     * é€’å½’æ‹·è´æ–‡ä»¶ï¼ˆé€’å½’å®ç°ï¼Œä¼šå°†è¾“å…¥ç›®å½•å®Œæ•´æ‹·è´åˆ°è¾“å‡ºç›®å½•ä¸‹ï¼‰
     * @param inputPath
     * @param outputPath
     */
    public static void copyFilesByRecursive(String inputPath,String outputPath){
        File inputFile = new File(inputPath);
        File outputFile = new File(outputPath);
        try {
            copyFileByRecursive(inputFile,outputFile);
        }catch (Exception e){
            System.err.println("æ–‡ä»¶å¤åˆ¶å¤±è´¥");
            e.printStackTrace();
        }
    }

    /**
     * æ–‡ä»¶ A => ç›®å½• Bï¼Œåˆ™æ–‡ä»¶ A æ”¾åœ¨ç›®å½• B ä¸‹
     * æ–‡ä»¶ A => æ–‡ä»¶ Bï¼Œåˆ™æ–‡ä»¶ A è¦†ç›–æ–‡ä»¶ B
     * ç›®å½• A => ç›®å½• Bï¼Œåˆ™ç›®å½• A æ”¾åœ¨ç›®å½• B ä¸‹
     *
     * æ ¸å¿ƒæ€è·¯ï¼šå…ˆåˆ›å»ºç›®å½•ï¼Œç„¶åéå†ç›®å½•å†…çš„æ–‡ä»¶ï¼Œä¾æ¬¡å¤åˆ¶
     * @param inputFile
     * @param outputFile
     * @throws IOException
     */
    private static void copyFileByRecursive(File inputFile,File outputFile) throws IOException {
        //åŒºåˆ†æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•
        if (inputFile.isDirectory()){
            System.out.println(inputFile.getName());
            File destOutputFile = new File(outputFile, inputFile.getName());
            // å¦‚æœæ˜¯ç›®å½•ï¼Œé¦–å…ˆåˆ›å»ºç›®æ ‡ç›®å½•
            if (!destOutputFile.exists()){
                destOutputFile.mkdirs();
            }
            // è·å–ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•
            File[] files = inputFile.listFiles();
            if (ArrayUtil.isEmpty(files)){
                return;
            }
            for (File file : files){
                copyFileByRecursive(file,destOutputFile);
            }
        }else {
            // æ˜¯æ–‡ä»¶ï¼Œç›´æ¥å¤åˆ¶åˆ°ç›®æ ‡ç›®å½•ä¸‹
            Path destPath = outputFile.toPath().resolve(inputFile.getName());
            Files.copy(inputFile.toPath(),destPath,StandardCopyOption.REPLACE_EXISTING);
        }
    }
}
```

## å››ã€åŠ¨æ€æ–‡ä»¶ç”Ÿæˆæ€è·¯
### æ˜ç¡®åŠ¨æ€ç”Ÿæˆéœ€æ±‚
1ï¼‰åœ¨ä»£ç å¼€å¤´å¢åŠ ä½œè€…@Authoræ³¨é‡Šï¼ˆå¢åŠ ä»£ç ï¼‰

2ï¼‰ä¿®æ”¹ç¨‹åºè¾“å‡ºçš„ä¿¡æ¯æç¤ºï¼ˆæ›¿æ¢ä»£ç ï¼‰

3ï¼‰å°†å¾ªç¯è¯»å–è¾“å…¥æ”¹ä¸ºå•æ¬¡è¯»å–ï¼ˆå¯é€‰ä»£ç ï¼‰

```java
package com.yupi.acm;

import java.util.Scanner;

/**
 * ACM è¾“å…¥æ¨¡æ¿ï¼ˆå¤šæ•°ä¹‹å’Œï¼‰
 * @author xujieï¼ˆ1. å¢åŠ ä½œè€…æ³¨é‡Šï¼‰
 */
public class MainTemplate {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

    // 2. å¯é€‰æ˜¯å¦å¾ªç¯
//        while (scanner.hasNext()) {
            // è¯»å–è¾“å…¥å…ƒç´ ä¸ªæ•°
            int n = scanner.nextInt();

            // è¯»å–æ•°ç»„
            int[] arr = new int[n];
            for (int i = 0; i < n; i++) {
                arr[i] = scanner.nextInt();
            }

            // å¤„ç†é—®é¢˜é€»è¾‘ï¼Œæ ¹æ®éœ€è¦è¿›è¡Œè¾“å‡º
            // ç¤ºä¾‹ï¼šè®¡ç®—æ•°ç»„å…ƒç´ çš„å’Œ
            int sum = 0;
            for (int num : arr) {
                sum += num;
            }

            // 3. è¾“å‡ºä¿¡æ¯å¯ä»¥ä¿®æ”¹
            System.out.println("æ±‚å’Œç»“æœ: " + sum);
//        }

        scanner.close();
    }
}


```

### åŠ¨æ€ç”Ÿæˆçš„æ ¸å¿ƒåŸç†
æœ€ç»å…¸çš„å®ç°æ–¹æ³•å°±æ˜¯ï¼šæå‰åŸºäºåŸºç¡€æ–‡ä»¶â€œæŒ–å‘â€ï¼Œç¼–å†™ **æ¨¡æ¿æ–‡ä»¶**ï¼Œç„¶åå°†ç”¨æˆ·çš„è¾“å…¥**å‚æ•°**â€œå¡«å‘â€ï¼Œæ›¿æ¢åˆ°æ¨¡æ¿æ–‡ä»¶ä¸­ï¼Œä»è€Œç”Ÿæˆå®Œæ•´ä»£ç ã€‚

ä½¿ç”¨ **æ¨¡æ¿å¼•æ“æŠ€æœ¯**ï¼Œè½»æ¾å®ç°æ¨¡æ¿ç¼–å†™å’ŒåŠ¨æ€å†…å®¹ç”Ÿæˆ

## äº”ã€FreeMakeræ¨¡æ¿å¼•æ“å…¥é—¨
### ä»€ä¹ˆæ˜¯æ¨¡æ¿å¼•æ“ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ
æ¨¡æ¿å¼•æ“æ˜¯ä¸€ç§ç”¨äºç”ŸæˆåŠ¨æ€å†…å®¹çš„ç±»åº“ï¼Œé€šè¿‡å°†é¢„å®šä¹‰çš„æ¨¡æ¿ä¸ç‰¹å®šæ•°æ®åˆå¹¶ï¼Œæ¥ç”Ÿæˆæœ€ç»ˆçš„è¾“å‡ºã€‚

ä½¿ç”¨æ¨¡æ¿å¼•æ“æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œé¦–å…ˆå°±æ˜¯æä¾›ç°æˆçš„æ¨¡æ¿æ–‡ä»¶è¯­æ³•å’Œè§£æèƒ½åŠ›ã€‚å¼€å‘è€…åªéœ€è¦æŒ‰ç…§ç‰¹å®šè¦æ±‚å»ç¼–å†™æ¨¡æ¿æ–‡ä»¶ï¼Œæ¯”å¦‚ä½¿ç”¨`${å‚æ•°}`è¯­æ³•ï¼Œæ¨¡æ¿å¼•æ“å°±èƒ½è‡ªåŠ¨å°†å‚æ•°æ³¨å…¥åˆ°æ¨¡æ¿ä¸­ï¼Œå¾—åˆ°å®Œæ•´æ–‡ä»¶ï¼Œä¸ç”¨å†è‡ªå·±ç¼–å†™è§£æé€»è¾‘äº†ã€‚

å…¶æ¬¡ï¼Œæ¨¡æ¿å¼•æ“å¯ä»¥å°†æ•°æ®å’Œæ¨¡æ¿åˆ†ç¦»ï¼Œè®©ä¸åŒçš„å¼€å‘äººå‘˜ç‹¬ç«‹å·¥ä½œï¼Œä½¿ç³»ç»Ÿæ›´æ˜“äºç»´æŠ¤ã€‚

æ­¤å¤–ï¼Œæ¨¡æ¿å¼•æ“å¯èƒ½è¿˜å…·æœ‰ä¸€äº›å®‰å…¨ç‰¹æ€§ï¼Œæ¯”å¦‚é˜²æ­¢è·¨ç«™è„šæœ¬æ”»å‡»ç­‰ã€‚

æœ‰å¾ˆå¤šç°æˆçš„æ¨¡æ¿å¼•æ“æŠ€æœ¯ï¼Œæ¯”å¦‚Javaçš„Thymeleafã€FreeMarkerã€Velocityï¼Œå‰ç«¯çš„Mustacheç­‰ã€‚

### ä»€ä¹ˆæ˜¯FreeMarkerï¼Ÿ
FreMarkerå®˜æ–¹æ–‡æ¡£ï¼›

[Apache FreeMarker Manual](https://freemarker.apache.org/docs/index.html)

### æ¨¡æ¿å¼•æ“çš„ä½œç”¨
FreeMarkeræ¨¡æ¿å¼•æ“çš„ä½œç”¨å°±æ˜¯æ¥å—æ¨¡æ¿å’Œjavaå¯¹è±¡ï¼Œå¯¹å®ƒä»¬è¿›è¡Œå¤„ç†ï¼Œè¾“å‡ºå®Œæ•´çš„å†…å®¹ã€‚

![](https://cdn.nlark.com/yuque/0/2024/png/38856890/1733307400560-25d79c2c-9572-4be8-a353-76bef8d0e83c.png)

FreeMarkerçš„æ ¸å¿ƒæ¦‚å¿µï¼šæ¨¡æ¿å’Œæ•°æ®æ¨¡å‹ã€‚

### æ¨¡æ¿
FreeMarkeræ‹¥æœ‰è‡ªå·±çš„æ¨¡æ¿ç¼–å†™è§„åˆ™ï¼Œä¸€èˆ¬ç”¨FTLè¡¨ç¤ºFreeMarkeræ¨¡æ¿è¯­è¨€ã€‚æ¯”å¦‚`myweb.html.ftl`å°±æ˜¯ä¸€ä¸ªæ¨¡æ¿æ–‡ä»¶ã€‚

æ¨¡æ¿æ–‡ä»¶ç”±4ä¸ªæ ¸å¿ƒéƒ¨åˆ†ç»„æˆï¼š

1ï¼‰æ–‡æœ¬ï¼šå›ºå®šçš„å†…å®¹ï¼Œä¼šæŒ‰åŸæ ·è¾“å‡ºã€‚

2ï¼‰æ’å€¼ï¼šç”¨`${...}`è¯­æ³•æ¥å ä½ï¼Œå°–æ‹¬å·ä¸­çš„å†…å®¹åœ¨ç»è¿‡è®¡ç®—å’Œæ›¿æ¢åï¼Œæ‰ä¼šè¾“å‡ºã€‚

3ï¼‰FTLæŒ‡ä»¤ï¼šæœ‰ç‚¹åƒHTMLçš„æ ‡ç­¾è¯­æ³•ï¼Œé€šè¿‡`<#xxx...>`æ¥å®ç°å„ç§ç‰¹æ®ŠåŠŸèƒ½ã€‚æ¯”å¦‚`<#list elements as element>`å®ç°å¾ªç¯è¾“å‡ºã€‚

4ï¼‰æ³¨é‡Šï¼šä½¿ç”¨`<#--...-->`è¯­æ³•ï¼Œæ³¨é‡Šä¸­çš„å†…å®¹ä¸ä¼šè¾“å‡ºã€‚

ä¾‹å­

```html
<!DOCTYPE html>
<html>
  <head>
    <title>å°æ°å®˜ç½‘</title>
  </head>
  <body>
    <h1>æ¬¢è¿æ¥åˆ°å°æ°å®˜ç½‘</h1>
    <ul>
      <#-- å¾ªç¯æ¸²æŸ“å¯¼èˆªæ¡ -->
        <#list menuItems as item>
          <li><a href="${item.url}">${item.label}</a></li>
        </#list>
        </ul>
          <#-- åº•éƒ¨ç‰ˆæƒä¿¡æ¯ï¼ˆæ³¨é‡Šéƒ¨åˆ†ï¼Œä¸ä¼šè¢«è¾“å‡ºï¼‰-->
            <footer>
              ${currentYear} å°æ°å®˜ç½‘. All rights reserved.
            </footer>
          </body>
          </html>

```

### æ•°æ®æ¨¡å‹
æˆ‘ä»¬æŠŠä¸ºæ¨¡æ¿å‡†å¤‡çš„æ‰€æœ‰æ•°æ®ç»Ÿç§°ä¸º **æ•°æ®æ¨¡å‹**ã€‚

åœ¨FreeMarkerä¸­ï¼Œæ•°æ®æ¨¡å‹ä¸€èˆ¬æ˜¯æ ‘å½¢ç»“æ„ï¼Œå¯ä»¥æ˜¯å¤æ‚çš„Javaå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯HashMapç­‰æ›´é€šç”¨çš„ç»“æ„

```json
{
  "currentYear": 2023,
  "menuItems": [
    {
      "url": "https://codefather.cn",
      "label": "ç¼–ç¨‹å¯¼èˆª",
    },
    {
      "url": "https://laoyujianli.com",
      "label": "è€é±¼ç®€å†",
    }
  ]
}

```

### Demoå®æˆ˜
#### 1ã€å¼•å…¥ä¾èµ–
```xml
<!-- https://freemarker.apache.org/index.html -->
<dependency>
  <groupId>org.freemarker</groupId>
  <artifactId>freemarker</artifactId>
  <version>2.3.32</version>
</dependency>

```

å¦‚æœæ˜¯SpringBootçš„é¡¹ç›®ï¼Œå¯ä»¥ç›´æ¥å¼•å…¥starterä¾èµ–

```xml
<dependency>
  <groupId>org.springframework.boot</groupId>
  <artifactId>spring-boot-starter-freemarker</artifactId>
</dependency>

```

#### 2ã€åˆ›å»ºé…ç½®å¯¹è±¡
åœ¨`test/java`ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªå•å…ƒæµ‹è¯•ç±»`FreeMarkerTest`ï¼Œåœ¨Testæ–¹æ³•ä¸­åˆ›å»ºä¸€ä¸ªFreeMarkerçš„å…¨å±€é…ç½®å¯¹è±¡ï¼Œå¯ä»¥ç»Ÿä¸€æŒ‡å®šæ–‡ä»¶æ‰€åœ¨è·¯å¾„ã€æ¨¡æ¿æ–‡ä»¶çš„å­—ç¬¦é›†ç­‰ã€‚

```java
// new å‡º Configuration å¯¹è±¡ï¼Œå‚æ•°ä¸º FreeMarker ç‰ˆæœ¬å·
Configuration configuration = new Configuration(Configuration.VERSION_2_3_32);

// æŒ‡å®šæ¨¡æ¿æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„
configuration.setDirectoryForTemplateLoading(new File("src/main/resources/templates"));

// è®¾ç½®æ¨¡æ¿æ–‡ä»¶ä½¿ç”¨çš„å­—ç¬¦é›†
configuration.setDefaultEncoding("utf-8");

```

#### 3ã€å‡†å¤‡æ¨¡æ¿å¹¶åŠ è½½
å‡†å¤‡å¥½æ¨¡æ¿æ–‡ä»¶åï¼Œé€šè¿‡åˆ›å»ºTemplateæ–‡ä»¶æ¥åŠ è½½è¯¥æ¨¡æ¿ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š

```java
// åˆ›å»ºæ¨¡æ¿å¯¹è±¡ï¼ŒåŠ è½½æŒ‡å®šæ¨¡æ¿
Template template = configuration.getTemplate("myweb.html.ftl");
```

#### 4ã€åˆ›å»ºæ•°æ®æ¨¡å‹
å¦‚æœæƒ³ä¿è¯æ•°æ®çš„è´¨é‡å’Œè§„èŒƒæ€§ï¼Œå¯ä»¥é€šè¿‡å¯¹è±¡æ¥ä¿å­˜â€œå–‚â€ç»™æ¨¡æ¿çš„æ•°æ®ï¼›åä¹‹ï¼Œæƒ³çµæ´»æ„é€ ï¼Œæ¨èä½¿ç”¨HashMapç»“æ„ã€‚

```java
Map<String, Object> dataModel = new HashMap<>();
dataModel.put("currentYear", 2024);
List<Map<String, Object>> menuItems = new ArrayList<>();
Map<String, Object> menuItem1 = new HashMap<>();
menuItem1.put("url", "https://codefather.cn");
menuItem1.put("label", "ç¼–ç¨‹å¯¼èˆª");
Map<String, Object> menuItem2 = new HashMap<>();
menuItem2.put("url", "https://laoyujianli.com");
menuItem2.put("label", "å°æ°ç®€å†");
menuItems.add(menuItem1);
menuItems.add(menuItem2);
dataModel.put("menuItems", menuItems);

```

#### 5ã€æŒ‡å®šç”Ÿæˆçš„æ–‡ä»¶
å¯ä»¥ç›´æ¥ä½¿ç”¨FileWriterå¯¹è±¡ï¼ŒæŒ‡å®šç”Ÿæˆçš„æ–‡ä»¶è·¯å¾„å’Œåç§°ï¼š

```java
Writer out = new FileWriter("myweb.html");
```

#### 6ã€ç”Ÿæˆæ–‡ä»¶
ä¸€åˆ‡å‡†å¤‡å°±ç»ªï¼Œæœ€ååªéœ€è¦è°ƒç”¨templateå¯¹è±¡çš„processæ–¹æ³•ï¼Œå°±å¯ä»¥å¤„ç†å¹¶ç”Ÿæˆæ–‡ä»¶äº†ã€‚

```java
template.process(dataModel, out);

// ç”Ÿæˆæ–‡ä»¶ååˆ«å¿˜äº†å…³é—­å“¦
out.close();
```

#### 7ã€å®Œæ•´ä»£ç 
FreeMarkerTestå®Œæ•´ä»£ç 

```java
import freemarker.template.Configuration;
import freemarker.template.Template;
import freemarker.template.TemplateException;
import org.junit.Test;

import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.io.Writer;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

/**
 * FreeMarker å­¦ä¹ æµ‹è¯•
 */
public class FreeMarkerTest {

    @Test
    public void test() throws IOException, TemplateException {
        // new å‡º Configuration å¯¹è±¡ï¼Œå‚æ•°ä¸º FreeMarker ç‰ˆæœ¬å·
        Configuration configuration = new Configuration(Configuration.VERSION_2_3_32);

        // æŒ‡å®šæ¨¡æ¿æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„
        configuration.setDirectoryForTemplateLoading(new File("src/main/resources/templates"));

        // è®¾ç½®æ¨¡æ¿æ–‡ä»¶ä½¿ç”¨çš„å­—ç¬¦é›†
        configuration.setDefaultEncoding("utf-8");

        // åˆ›å»ºæ¨¡æ¿å¯¹è±¡ï¼ŒåŠ è½½æŒ‡å®šæ¨¡æ¿
        Template template = configuration.getTemplate("myweb.html.ftl");

        // åˆ›å»ºæ•°æ®æ¨¡å‹
        Map<String, Object> dataModel = new HashMap<>();
        dataModel.put("currentYear", 2023);
        List<Map<String, Object>> menuItems = new ArrayList<>();
        Map<String, Object> menuItem1 = new HashMap<>();
        menuItem1.put("url", "https://codefather.cn");
        menuItem1.put("label", "ç¼–ç¨‹å¯¼èˆª");
        Map<String, Object> menuItem2 = new HashMap<>();
        menuItem2.put("url", "https://laoyujianli.com");
        menuItem2.put("label", "è€é±¼ç®€å†");
        menuItems.add(menuItem1);
        menuItems.add(menuItem2);
        dataModel.put("menuItems", menuItems);

        // ç”Ÿæˆ
        Writer out = new FileWriter("myweb.html");
        template.process(dataModel, out);

        // ç”Ÿæˆæ–‡ä»¶ååˆ«å¿˜äº†å…³é—­å“¦
        out.close();
    }
}

```

ç»„åˆä¸Šé¢æ‰€æœ‰ä»£ç å¹¶æ‰§è¡Œï¼Œå‘ç°åœ¨é¡¹ç›®çš„æ ¹è·¯å¾„ä¸‹ç”Ÿæˆäº†ç½‘é¡µæ–‡ä»¶ï¼Œè‡³æ­¤Demoç»“æŸã€‚

### å¸¸ç”¨è¯­æ³•
æœ¬æ–‡ä»…å¸¦å¤§å®¶å­¦ä¹ å¸¸ç”¨çš„ã€æ˜“ç”¨çš„è¯­æ³•ã€‚

#### 1ã€æ’å€¼
æ”¯æŒä¼ é€’è¡¨è¾¾å¼ï¼Œä¸è¿‡ä¸å»ºè®®åœ¨æ¨¡æ¿æ–‡ä»¶ä¸­å†™è¡¨è¾¾å¼ï¼Œä¸ºä»€ä¹ˆä¸åœ¨åˆ›å»ºæ•°æ®æ¨¡å‹æ—¶å°±è®¡ç®—å¥½è¦å±•ç¤ºçš„å€¼å‘¢ï¼Ÿ

```java
è¡¨è¾¾å¼ï¼š${100 + money}
```

#### 2ã€åˆ†æ”¯å’Œåˆ¤ç©º
FreeMarkeræ¨¡æ¿ä¹Ÿæ”¯æŒåˆ†æ”¯è¡¨è¾¾å¼ï¼ˆif..elseï¼‰

```java
<#if user == "å°æ°">
  æˆ‘æ˜¯å°æ°
<#else>
  æˆ‘æ˜¯å¤§æ°
</#if>

```

åˆ†æ”¯è¯­å¥çš„ä¸€ä¸ªå¸¸ç”¨åœºæ™¯å°±æ˜¯åˆ¤ç©ºï¼Œæ¯”å¦‚è¦åˆ¤æ–­userå‚æ•°æ˜¯å¦å­˜åœ¨

```java
<#if user??>
  å­˜åœ¨ç”¨æˆ·
<#else>
  ç”¨æˆ·ä¸å­˜åœ¨
</#if>
```

#### 3ã€é»˜è®¤å€¼
FreeMarkerå¯¹å˜é‡çš„ç©ºå€¼æ ¡éªŒæ˜¯å¾ˆä¸¥æ ¼çš„ï¼Œå¦‚æœæ¨¡æ¿ä¸­æŸä¸ªå¯¹è±¡ä¸ºç©ºï¼ŒFreeMarkerå°†ä¼šæŠ¥é”™è€Œå¯¼è‡´æ¨¡æ¿ç”Ÿæˆä¸­æ–­ã€‚ä¸ºäº†é˜²æ­¢è¿™ä¸ªé—®é¢˜ï¼Œå»ºè®®ç»™å¯èƒ½ä¸ºç©ºçš„å‚æ•°éƒ½è®¾ç½®é»˜è®¤å€¼ã€‚ä½¿ç”¨`è¡¨è¾¾å¼ï¼é»˜è®¤å€¼`çš„è¯­æ³•ã€‚

```java
${user!"ç”¨æˆ·ä¸ºç©º"}
```

#### 4ã€å¾ªç¯
`<#list items as item>`è¡¨è¾¾å¼ï¼Œå¯ä»¥éå†æŸä¸ªåºåˆ—ç±»å‹çš„å‚æ•°å¹¶é‡å¤è¾“å‡ºå¤šæ¡å†…å®¹ã€‚

```java
<#list users as user>
  ${user}
</#list>
```

å…¶ä¸­ï¼Œusersæ˜¯æ•´ä¸ªåˆ—è¡¨ï¼Œè€Œuseræ˜¯éå†åˆ—è¡¨æ¯ä¸ªå…ƒç´ æ—¶ä¸´æ—¶å­˜å‚¨çš„å˜é‡ï¼Œè·Ÿforå¾ªç¯ä¸€æ ·ï¼Œä¼šä¾æ¬¡è¾“å‡ºæ¯ä¸ªuserçš„å€¼ã€‚

#### 5ã€å®å®šä¹‰
å¯ä»¥æŠŠâ€œå®â€ç†è§£ä¸ºä¸€ä¸ªé¢„å®šä¹‰çš„æ¨¡æ¿ç‰‡æ®µã€‚æ”¯æŒç»™å®ä¼ å…¥å˜é‡ï¼Œæ¥å¤ç”¨æ¨¡æ¿ç‰‡æ®µã€‚

> å…¶å®ç±»ä¼¼äºå‰ç«¯å¼€å‘ä¸­ç»„ä»¶å¤ç”¨çš„æ€æƒ³
>

åœ¨FreeMarkerä¸­ï¼Œä½¿ç”¨`macro`æŒ‡ä»¤æ¥å®šä¹‰å®ã€‚

è®©æˆ‘ä»¬æ¥å®šä¹‰å®ï¼Œç”¨äºè¾“å‡ºç‰¹å®šæ ¼å¼çš„ç”¨æˆ·æ˜µç§°ï¼Œæ¯”å¦‚ï¼š

```java
<#macro card userName>     
---------    
${userName}
---------
</#macro>
```

å…¶ä¸­ï¼Œcardæ˜¯å®çš„åç§°ï¼ŒuserNameæ˜¯å®æ¥å—çš„å‚æ•°ã€‚

å¯ä»¥ä½¿ç”¨`@`è¯­æ³•æ¥ä½¿ç”¨å®

```java
<@card userName="å°æ°"/>
<@card userName="å¤§æ°"/>
```

å®é™…ç”Ÿæˆçš„è¾“å‡ºç»“æœä¸º

```java
---------    
å°æ°
---------
---------    
å¤§æ°
---------
```

å®æ ‡ç­¾ä¸­æ”¯æŒåµŒå¥—å†…å®¹ï¼Œä¸è¿‡è¿˜æ˜¯æœ‰äº›å¤æ‚çš„ï¼ˆå†è®²ä¸‹å»å°±æ˜¯å‰ç«¯è¯¾äº†ï¼‰ï¼Œç”¨æ—¶æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£å°±å¥½ã€‚

> è‡ªå®šä¹‰æŒ‡ä»¤ï¼š[http://freemarker.foofun.cn/dgui_misc_userdefdir.html](http://freemarker.foofun.cn/dgui_misc_userdefdir.html)
>

#### 6ã€å†…å»ºå‡½æ•°
å†…å»ºå‡½æ•°æ˜¯FreeMarkerä¸ºäº†æé«˜å¼€å‘è€…å¤„ç†æ•ˆç‡è€Œæä¾›çš„è¯­æ³•ç³–ï¼Œå¯ä»¥ä½¿ç”¨`ï¼Ÿ`æ¥è°ƒç”¨å†…å»ºå‡½æ•°ã€‚

æ¯”å¦‚å°†å­—ç¬¦ä¸²è½¬ä¸ºå¤§å†™

```java
${userName?upper_case}
```

æ¯”å¦‚è¾“å‡ºåºåˆ—çš„é•¿åº¦

```java
${myList?size}
```

æŠŠå†…å»ºå‡½æ•°æƒ³è±¡æˆè°ƒç”¨Javaå¯¹è±¡çš„æ–¹æ³•ï¼Œå°±å¾ˆå¥½ç†è§£äº†ã€‚

å†…å»ºå‡½æ•°æ˜¯FreeMarkeréå¸¸å¼ºå¤§çš„ä¸€ä¸ªèƒ½åŠ›ï¼Œæ¯”å¦‚æƒ³åœ¨å¾ªç¯è¯­æ³•ä¸­ä¾æ¬¡è¾“å‡ºå…ƒç´ çš„ä¸‹æ ‡ï¼Œå°±å¯ä»¥ä½¿ç”¨å¾ªç¯è¡¨è¾¾å¼è‡ªå¸¦çš„indexå†…å»ºå‡½æ•°ï¼š

```java
<#list users as user>
  ${user?index}
</#list>
```

å†…å»ºå‡½æ•°ç§ç±»ä¸°å¯Œï¼Œæ•°é‡æå¤šï¼Œç”¨æ—¶å»æŸ¥é˜…å®˜æ–¹æ–‡æ¡£å³å¯ã€‚

> å†…å»ºå‡½æ•°å‚è€ƒå¤§å…¨ï¼š[http://freemarker.foofun.cn/ref_builtins.html](http://freemarker.foofun.cn/ref_builtins.html)
>

#### 7ã€å…¶ä»–
è¿˜æœ‰æ›´å¤šç‰¹æ€§ï¼Œæ¯”å¦‚å‘½åç©ºé—´ï¼Œå…¶å®å°±ç›¸å½“äºJavaä¸­çš„åŒ…ï¼Œç”¨äºéš”ç¦»ä»£ç ã€å®ã€å˜é‡ç­‰ã€‚

### é—®é¢˜è§£å†³ç¤ºä¾‹
åˆ†äº«ä¸€ä¸ªè§£å†³é—®é¢˜çš„ä¾‹å­ï¼Œæ¯”å¦‚ä¹‹å‰ç”Ÿæˆçš„ç½‘ç«™æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬å‘ç°æ•°å­—ä¸­é—´åŠ äº†ä¸€ä¸ªé€—å·åˆ†éš”ç¬¦ï¼Œå¦‚ä¸‹å›¾ï¼š

![](https://cdn.nlark.com/yuque/0/2024/png/38856890/1733317340889-6c1b25a1-5ab1-4328-a281-06a4191e571f.png)

è¿™æ˜¯å› ä¸ºFreeMarkerä½¿ç”¨Javaå¹³å°çš„æœ¬åœ°åŒ–æ•æ„Ÿçš„æ•°å­—æ ¼å¼ä¿¡æ¯ï¼Œå¦‚æœæƒ³æŠŠåˆ†éš”ç¬¦å–æ¶ˆæ‰ï¼Œå¯ä»¥æ€ä¹ˆåŠå‘¢ï¼Ÿ

æˆ‘ä»¬å¯ä»¥é€šè¿‡æŸ¥é˜…å®˜æ–¹æ–‡æ¡£çœ‹åˆ°ä»¥ä¸‹ä¿¡æ¯ï¼š[http://freemarker.foofun.cn/app_faq.html#faq_number_grouping](http://freemarker.foofun.cn/app_faq.html#faq_number_grouping)

![](https://cdn.nlark.com/yuque/0/2024/png/38856890/1733317427210-b6f08121-1ca2-42a4-9ed0-c4fe7da8278e.png)

æŒ‰ç…§æ–‡æ¡£çš„æç¤ºï¼Œä¿®æ”¹configurationé…ç½®ç±»çš„number_formatè®¾ç½®ï¼Œå³å¯è°ƒæ•´é»˜è®¤ç”Ÿæˆçš„æ•°å­—æ ¼å¼äº†ã€‚

### æ›´å¤šå­¦ä¹ èµ„æº
[FreeMarker ä¸­æ–‡å®˜æ–¹å‚è€ƒæ‰‹å†Œ](http://freemarker.foofun.cn/toc.html)

[FreeMarkeræ•™ç¨‹ç½‘](http://www.freemarker.net/)

## å…­ã€åŠ¨æ€æ–‡ä»¶ç”Ÿæˆ
å®ç°ACMç¤ºä¾‹æ¨¡æ¿é¡¹ç›®çš„åŠ¨æ€ç”Ÿæˆ

æ ¸å¿ƒæ­¥éª¤ï¼š

1ã€å®šä¹‰æ•°æ®æ¨¡å‹

2ã€ç¼–å†™åŠ¨æ€æ¨¡æ¿

3ã€ç»„åˆç”Ÿæˆ

4ã€å®Œå–„ä¼˜åŒ–

### 1ã€å®šä¹‰æ•°æ®æ¨¡å‹
é’ˆå¯¹ä¸Šè¿°éœ€æ±‚ï¼Œæˆ‘ä»¬åœ¨`com.xj.model`æ–°å»ºä¸€ä¸ªæ¨¡æ¿é…ç½®å¯¹è±¡ï¼Œç”¨äºæ¥æ”¶è¦ä¼ é€’ç»™æ¨¡æ¿çš„å‚æ•°ã€‚

```java
/**
 * åŠ¨æ€æ¨¡ç‰ˆé…ç½®
 */
@Data
public class  {

    /**
     * æ˜¯å¦ç”Ÿæˆå¾ªç¯
     */
    private boolean loop;

    /**
     * ä½œè€…æ³¨é‡Š
     */
    private String author;

    /**
     * è¾“å‡ºä¿¡æ¯
     */
    private String outputText;
}

```

å…¶å®ä¹Ÿå¯ä»¥ç”¨HashMapï¼Œä½†æ˜¯ä¸å¦‚å®šä¹‰å¯¹è±¡æ›´æ¸…æ™°ï¼Œæ›´è§„èŒƒã€‚

### 2ã€ç¼–å†™åŠ¨æ€æ¨¡æ¿
åœ¨`resources/templates`ç›®å½•ä¸‹æ–°å»ºFTLæ¨¡æ¿æ–‡ä»¶`MainTemplate.java.ftl`ã€‚åˆ¶ä½œæ¨¡æ¿çš„æ–¹æ³•å¾ˆç®€å•ï¼Œå…ˆå¤åˆ¶åŸå§‹ä»£ç ï¼Œå†æŒ–å‘ã€‚

```java
package com.xj.acm;

import java.util.Scanner;

/**
 * ACM è¾“å…¥æ¨¡æ¿ï¼ˆå¤šæ•°ä¹‹å’Œï¼‰
 * @author ${author}
 */
public class MainTemplate {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

<#if loop>
        while (scanner.hasNext()) {
</#if>
            // è¯»å–è¾“å…¥å…ƒç´ ä¸ªæ•°
            int n = scanner.nextInt();

            // è¯»å–æ•°ç»„
            int[] arr = new int[n];
            for (int i = 0; i < n; i++) {
                arr[i] = scanner.nextInt();
            }

            // å¤„ç†é—®é¢˜é€»è¾‘ï¼Œæ ¹æ®éœ€è¦è¿›è¡Œè¾“å‡º
            // ç¤ºä¾‹ï¼šè®¡ç®—æ•°ç»„å…ƒç´ çš„å’Œ
            int sum = 0;
            for (int num : arr) {
                sum += num;
            }

            System.out.println("${outputText}" + sum);
<#if loop>
        }
</#if>
        scanner.close();
    }
}


```

å…¶ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ’å€¼è¡¨è¾¾å¼`${author}`æ¥æ”¶ä½œè€…åç§°ï¼Œä½¿ç”¨`<#if loop>...</#if>`åˆ†æ”¯æ¥æ§åˆ¶æ˜¯å¦ç”Ÿæˆå¾ªç¯ä»£ç ï¼Œä½¿ç”¨`${outputText}`æ§åˆ¶è¾“å‡ºä¿¡æ¯ã€‚

### 3ã€ç»„åˆç”Ÿæˆ
åŒé™æ€æ–‡ä»¶ç”Ÿæˆå™¨ä¸€æ ·ï¼Œæˆ‘ä»¬åœ¨`com.xj.generator`ç›®å½•ä¸‹æ–°å»ºåŠ¨æ€æ–‡ä»¶ç”Ÿæˆå™¨`DynamicGenerator`ï¼Œå’ŒDemoå®æˆ˜ä¸€æ ·ï¼Œåœ¨mainæ–¹æ³•ä¸­ç¼–å†™ç”Ÿæˆé€»è¾‘ï¼Œä¾æ¬¡å®Œæˆï¼šåˆ›å»ºConfigurationå¯¹è±¡ã€æ¨¡æ¿å¯¹è±¡ã€åˆ›å»ºæ•°æ®æ¨¡å‹ã€æŒ‡å®šè¾“å‡ºè·¯å¾„ã€æ‰§è¡Œç”Ÿæˆã€‚

```java
/**
 * åŠ¨æ€æ–‡ä»¶ç”Ÿæˆ
 */
public class DynamicGenerator {

    public static void main(String[] args) throws IOException, TemplateException {
        // new å‡º Configuration å¯¹è±¡ï¼Œå‚æ•°ä¸º FreeMarker ç‰ˆæœ¬å·
        Configuration configuration = new Configuration(Configuration.VERSION_2_3_32);

        // æŒ‡å®šæ¨¡æ¿æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„
        configuration.setDirectoryForTemplateLoading(new File("src/main/resources/templates"));

        // è®¾ç½®æ¨¡æ¿æ–‡ä»¶ä½¿ç”¨çš„å­—ç¬¦é›†
        configuration.setDefaultEncoding("utf-8");

        // åˆ›å»ºæ¨¡æ¿å¯¹è±¡ï¼ŒåŠ è½½æŒ‡å®šæ¨¡æ¿
        Template template = configuration.getTemplate("MainTemplate.java.ftl");

        // åˆ›å»ºæ•°æ®æ¨¡å‹
        MainTemplateConfig mainTemplateConfig = new MainTemplateConfig();
        mainTemplateConfig.setAuthor("yupi");
        // ä¸ä½¿ç”¨å¾ªç¯
        mainTemplateConfig.setLoop(false);
        mainTemplateConfig.setOutputText("æ±‚å’Œç»“æœï¼š");

        // ç”Ÿæˆ
        Writer out = new FileWriter("MainTemplate.java");
        template.process(mainTemplateConfig, out);

        // ç”Ÿæˆæ–‡ä»¶ååˆ«å¿˜äº†å…³é—­å“¦
        out.close();
    }

}

```

### 4ã€å®Œå–„ä¼˜åŒ–
è™½ç„¶å·²ç»å®ç°äº†åŠ¨æ€æ–‡ä»¶ç”Ÿæˆï¼Œä½†æˆ‘ä»¬è¿˜è¦è¿›ä¸€æ­¥ä¼˜åŒ–ä»£ç çš„å¥å£®æ€§ã€çµæ´»æ€§ã€‚

### å®Œå–„æ¨¡æ¿
å¦‚æœæ•°æ®æ¨¡å‹çš„å­—ç¬¦ä¸²å˜é‡ä¸è®¾ç½®ä»»ä½•å€¼ï¼Œé‚£ä¹ˆä¼šæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š

![](https://cdn.nlark.com/yuque/0/2024/png/38856890/1733385340917-7c7bf37c-431f-49c6-8111-208402ffdb88.png)

æ‰€ä»¥å»ºè®®ç»™æ‰€æœ‰å­—ç¬¦ä¸²æŒ‡å®šä¸€ä¸ªé»˜è®¤å€¼ï¼Œè¿™é‡Œæœ‰ä¸¤ç§æ–¹æ³•ï¼š

1ï¼‰ç›´æ¥ç»™POJOè®¾ç½®é»˜è®¤å€¼ï¼š

```java
/**
 * åŠ¨æ€æ¨¡ç‰ˆé…ç½®
 */
@Data
public class MainTemplateConfig {

    /**
     * æ˜¯å¦ç”Ÿæˆå¾ªç¯
     */
    private boolean loop;

    /**
     * ä½œè€…æ³¨é‡Š
     */
    private String author = "yupi";

    /**
     * è¾“å‡ºä¿¡æ¯
     */
    private String outputText = "sum = ";
}

```

2ï¼‰ä½¿ç”¨FreeMarkerçš„é»˜è®¤æ“ä½œç¬¦

```java
System.out.println("${outputText!'sum = '}" + sum);
```

æ¨èç¬¬ä¸€ç§æ–¹å¼ï¼Œä¸ç”¨å¤šå­¦ä¸€å¥—è¯­æ³•ï¼Œä¹Ÿä¸ç”¨è®©å…¶ä»–å¼€å‘è€…ç†è§£æ¨¡æ¿æ–‡ä»¶ã€‚

### æŠ½å–æ–¹æ³•
ä¸Šè¿°ä»£ç ç¡¬ç¼–ç å¤ªå¤šã€‚è€Œä¸ºäº†æé«˜ä»£ç å¤ç”¨æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç”Ÿæˆé€»è¾‘å°è£…ä¸ºä¸€ä¸ªæ–¹æ³•ï¼Œå°†ç¡¬ç¼–ç çš„å‚æ•°ä½œä¸ºæ–¹æ³•è¾“å…¥å‚æ•°ï¼Œå¯ä»¥ç”±è°ƒç”¨æ–¹æŒ‡å®šã€‚

```java
/**
 * ç”Ÿæˆæ–‡ä»¶
 *
 * @param inputPath æ¨¡æ¿æ–‡ä»¶è¾“å…¥è·¯å¾„
 * @param outputPath è¾“å‡ºè·¯å¾„
 * @param model æ•°æ®æ¨¡å‹
 * @throws IOException
 * @throws TemplateException
 */
public static void doGenerate(String inputPath, String outputPath, Object model) throws IOException, TemplateException {
    // new å‡º Configuration å¯¹è±¡ï¼Œå‚æ•°ä¸º FreeMarker ç‰ˆæœ¬å·
    Configuration configuration = new Configuration(Configuration.VERSION_2_3_32);

    // æŒ‡å®šæ¨¡æ¿æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„
    File templateDir = new File(inputPath).getParentFile();
    configuration.setDirectoryForTemplateLoading(templateDir);

    // è®¾ç½®æ¨¡æ¿æ–‡ä»¶ä½¿ç”¨çš„å­—ç¬¦é›†
    configuration.setDefaultEncoding("utf-8");

    // åˆ›å»ºæ¨¡æ¿å¯¹è±¡ï¼ŒåŠ è½½æŒ‡å®šæ¨¡æ¿
    String templateName = new File(inputPath).getName();
    Template template = configuration.getTemplate(templateName);

    // åˆ›å»ºæ•°æ®æ¨¡å‹
    MainTemplateConfig mainTemplateConfig = new MainTemplateConfig();
    mainTemplateConfig.setAuthor("yupi");
    mainTemplateConfig.setLoop(false);
    mainTemplateConfig.setOutputText("æ±‚å’Œç»“æœï¼š");

    // ç”Ÿæˆ
    Writer out = new FileWriter(outputPath);
    template.process(model, out);

    // ç”Ÿæˆæ–‡ä»¶ååˆ«å¿˜äº†å…³é—­å“¦
    out.close();
}
```

ç„¶åmainæ–¹æ³•ï¼ˆè°ƒç”¨æ–¹ï¼‰çš„ä»£ç å¯ä»¥å¤§å¤§ç®€åŒ–äº†ï¼Œå¦‚ä¸‹ï¼š

```java
public static void main(String[] args) throws IOException, TemplateException {
    String projectPath = System.getProperty("user.dir") + File.separator + "yuzi-generator-basic";
    String inputPath = projectPath + File.separator + "src/main/resources/templates/MainTemplate.java.ftl";
    String outputPath = projectPath + File.separator + "MainTemplate.java";
    MainTemplateConfig mainTemplateConfig = new MainTemplateConfig();
    mainTemplateConfig.setAuthor("yupi");
    mainTemplateConfig.setLoop(false);
    mainTemplateConfig.setOutputText("æ±‚å’Œç»“æœï¼š");
    doGenerate(inputPath, outputPath, mainTemplateConfig);
}
```

## ä¸ƒã€åŠ¨é™ç»“åˆ
å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š

```java
package com.yupi.generator;

import com.yupi.model.MainTemplateConfig;
import freemarker.template.TemplateException;

import java.io.File;
import java.io.IOException;

/**
 * æ ¸å¿ƒç”Ÿæˆå™¨
 */
public class MainGenerator {

    /**
     * ç”Ÿæˆ
     * 
     * @param model æ•°æ®æ¨¡å‹
     * @throws TemplateException
     * @throws IOException
     */
    public static void doGenerate(Object model) throws TemplateException, IOException {
        String projectPath = System.getProperty("user.dir");
        // æ•´ä¸ªé¡¹ç›®çš„æ ¹è·¯å¾„
        File parentFile = new File(projectPath).getParentFile();
        // è¾“å…¥è·¯å¾„
        String inputPath = new File(parentFile, "yuzi-generator-demo-projects/acm-template").getAbsolutePath();
        String outputPath = projectPath;
        // ç”Ÿæˆé™æ€æ–‡ä»¶
        StaticGenerator.copyFilesByRecursive(inputPath, outputPath);
        // ç”ŸæˆåŠ¨æ€æ–‡ä»¶
        String inputDynamicFilePath = projectPath + File.separator + "src/main/resources/templates/MainTemplate.java.ftl";
        String outputDynamicFilePath = outputPath + File.separator + "acm-template/src/com/yupi/acm/MainTemplate.java";
        DynamicGenerator.doGenerate(inputDynamicFilePath, outputDynamicFilePath, model);
    }

    public static void main(String[] args) throws TemplateException, IOException {
        MainTemplateConfig mainTemplateConfig = new MainTemplateConfig();
        mainTemplateConfig.setAuthor("yupi");
        mainTemplateConfig.setLoop(false);
        mainTemplateConfig.setOutputText("æ±‚å’Œç»“æœï¼š");
        doGenerate(mainTemplateConfig);
    }
}


```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸Šè¿°ä»£ç ä¸­æ–‡ä»¶è·¯å¾„éƒ½æ˜¯å†™æ­»çš„ã€‚å¯¹äºè¦åˆ¶ä½œä¸€ä¸ªæœ¬åœ°ä»£ç ç”Ÿæˆå™¨è€Œè¨€ï¼Œè¿™ä¹ˆåšå°±è¶³å¤Ÿäº†ï¼Œä½†å¦‚æœè¦ç”Ÿæˆä¸€ä¸ªåŠ¨æ€æ–‡ä»¶éå¸¸å¤šçš„é¡¹ç›®ï¼Œéš¾é“è¦ä¸€ä¸ªä¸ªå»æŒ‡å®šåŠ¨æ€ç”Ÿæˆæ–‡ä»¶çš„è·¯å¾„å—ï¼Ÿ

è¿™ä¸ªé—®é¢˜ï¼Œç•™ç»™å¤§å®¶æ€è€ƒã€‚

