技术选型，是技术方向的朋友们 **必须掌握 **的内容，也是企业级项目在前期准备阶段必须要做的核心工作。依次梳理：从什么是技术选型？技术选型选什么？为什么要做技术选型？如何做好技术选型？

## 一、什么是技术选型？
就是“技术选择”，即选择用哪些技术。比如用HTML来开发网页，用C++来开发Windows桌面应用，用Java和Go开发服务端应用。

需要注意的是，技术选型不仅仅是项目初期的规划和设计阶段进行。每当我们给项目增加一个新功能时，都有可能要选择新的技术来实现；而随着项目的扩展，可能也需要对原有的技术栈进行升级。

## 二、技术选型选什么？
做技术选择并不是一件轻松的事，又分为很多层次和细节。

由浅入深来看，技术选型包括：

1）选哪类技术？

比如编程语言、开发框架、数据存储、缓存、队列

2）具体选什么技术？

比如编程语言选Java、Go还是C++？开发框架选Spring还是Play，缓存选Redis还是Memcached，

3）技术具体选哪个版本

比如选Java8还是11，选Vue2还是3？选Redis5还是6？选Es6还是7？同一个技术的不同版本，往往也会有很大差异。

4）选用技术的哪些具体特性

比如Spring的AOP切面，Redis的GEO高级数据结构等。

## 三、为什么要做技术选型？
**为了更好地开发和维护项目，**“更好”可能是提高效率、节约成本、提升开发体验、提高项目可扩展性等。

如果在开发项目前，不假思索直接确定某个技术就开始写代码，那么有可能等到后面，才突然出现翻车，这时候的风险和代价都是极高的...可谓一步错、步步错！尤其是越对项目代码侵入性强的技术（比如开发框架），后期切换的成本就越大。

## 四、如何做好技术选型？
### 4.1、明确上下文
首先明确一点，**没有银弹**，我们做技术选型的目标是在 **有限的条件 **下，选取特定场景下的 **最优解**。

1）有限条件

指团队的人数、人员的技能、时间成本、金钱成本等

比如大家都只会java，项目又急着上线，那肯定优先选择java相关技术栈，不要因为听说Go语言的性能高，就让大家加班去学Go。

比如公司缺资金，没资源，那么相较于选择付费的服务，不妨直接在一台服务器上自主搭建。

再比如公司资源很多，但是缺人力，那么像数据库等服务就不用自己搭建了，直接买第三方的云服务即可。

比较常见的选型方案是先从人力的角度出发，看看团队的同学都会哪些技术。如果需求很紧急的话，肯定优先选择大家用的比较熟的技术，先完成一期需求快速交付，后面再调研更合适的技术架构，不断的优化。

再从资源的角度考虑，要看团队的资源是否适合运用这个技术。比如创业小团队，没什么资金，可以用MySQL代替ElasticSearch来实现搜索功能，牺牲灵活性来省钱。再比如公司只能提供4G内存的服务器，那么在选用一些开源技术的时候就要关注它们的内存占用，不能超过这个阈值。

2）特定场景

我们的技术选型一定要围绕着 **特定的业务和需求** 来做，贴合实际，不要为了用技术而用技术。

可以思考以下几个问题（4问）：

1. 你要实现哪些功能？比如要做一个网盘系统，就要重点选型文件存储技术；要做一个聊天室系统，就要重点选择实时通信技术。
2. 你的业务量级有多大？如果用户数量多，数据存储量大，可以选用分布式数据库、或者分库分表；如果同时使用系统的用户数多（并发量大），可以选用Nginx或者LVS来实现负载均衡。
3. 系统的核心业务流程及关键数据结构是什么？比如要做个管理系统，那么数据库选择主流的关系型数据库MySQL就好；而如果要做数据分析系统，那么应该选择OLAP型数据库，比如ClickHouse等。
4. 系统更注重哪些性能指标？比如日志收集的场景更注重高性能和吞吐量，那么可以选择Kafka消息队列来采集；比如注重低延迟以及消息的准确性，那么可以选择RabbitMQ。

有限条件 + 特定场景 = 上下文，也可以理解为团队、项目的实际情况。

3）最优解

很多时候技术选型没有绝对的最优解，而是对时间、空间、稳定性、可用性、性能等等的综合权衡。

不同的上下文，选取的最优解也不同。就像CAP理论一样，无法同时满足一致性、可用性、分区容错性这3个特性，只能根据实际情况在三者之间权衡。

### 4.2、充分调研
在明确我们团队和项目的实际情况后，我们要进行充分的调研。可以利用某度、某歌、GitHub等各搜索引擎，或者文章和视频等等来探寻可能用到的各类技术的信息。包括：

+ 这个技术是什么？有什么用？
+ 这个技术有什么优点和不足？
+ 这个技术的使用成本如何？
+ 这个技术更适用于什么场景？
+ 这个技术的背景和口碑等

有很多网站，也可以帮助我们获取技术选型信息，比如：

+ 技术雷达：[https://www.thoughtworks.com/zh-cn/radar](https://www.thoughtworks.com/zh-cn/radar)
+ 框架性能对比：[https://www.techempower.com/benchmarks/#section=data-r21&hw=ph&test=fortune](https://www.techempower.com/benchmarks/#section=data-r21&hw=ph&test=fortune)

注意，在调研阶段，大家应该尽可能多地搜索相关技术，而不要把视野局限于某个技术。

建议把调研到的所有技术信息以表格或清单的形式记录在文档中，持续完善和补充，便于对比和最终选择技术。例如：

| 技术名称 | 吞吐量 | 时效性 | 可用性 | 可靠性 | 优势 | 应用场景 |
| --- | --- | --- | --- | --- | --- | --- |
| activemq | 万级 | 高 | 高 | 高 | 简单易学 | 中小型企业、项目 |
| rabbitmq | 万级 | **极高（微妙）** | 高 | 高 | 生态好（基本什么语言都支持）、时效性高、易学 | 适合绝大多数分布式的应用 |
| kafka | 十万级 | 高 | **极高** | **极高** | 吞吐量大、可靠性、可用性、强大的数据流处理能力 | 适用于 **大规模**处理数据的场景，比如构建日志收集系统、实时数据流传输、事件流收集传输 |
| rocketmq | 十万级 | 高 | **极高** | **极高** | 吞吐量大、可靠性、可用性、可扩展性 | 适用于 **金融**、电商等对可靠性要求较高的场景，适合 **大规模** 的消息处理 |
| pulsar | 十万级 | 高 | **极高** | **极高** | 可靠性、可用性很高，基于发布订阅模型，新兴（技术架构先进） | 适合大规模、高并发的分布式系统（云原生）。适合**实时分析、事件流处理**、**loT数据处理**等 |


### 4.3、对比选择
根据上下文 + 收集到的信息来综合选择最合适的技术。

除了上下文之外，建议大家优先选择：知名度高的、有大公司背书的，持续维护的、活跃度高的、开源的、文档齐全的、用户多生态好的技术。

比如大名鼎鼎的前端框架Vue和Java后端框架Spring Boot

### 4.4、最简Demo验证
在最终确认要选择的技术前，不要忘了验证一下该技术是否能够运用到咱们的项目当中，而不是直接拍板！

编写一个最简Demo来验证技术是否可用，比如使用Vue页面路由技术，那就编写一个点击按钮，快速跳转到`/about`页面到Demo

### 4.5、日常积累
除了上面这些方法外，想要做好技术选型，经验值的积累也十分重要。

1）持续记录

把自己看到的 **每个 **和你学习方向或工作相关的技术都先记录到文档中，有时间可以快速了解该技术的大致信息，知道这个技术是做什么的，有什么用。等需要用到的时候能想起来、或者能从文档中搜索到即可。

2）拓宽边界

不要幻想用一门技术吃遍天，也不要满足于自己的技术领域。尤其在自学阶段，可以偶尔尝试使用一些平时不接触的新技术，横向拓宽自己的技术选型范围。

## 五、技术选型实践
[https://www.codefather.cn/course/1790980795074654209/section/1851946145938743298?contentType=text&type=#heading-11](https://www.codefather.cn/course/1790980795074654209/section/1851946145938743298?contentType=text&type=#heading-11)

